<form [formGroup]="form">
   <div class="criteria-panel">

      <div class="criteria-group search">
         <mat-icon>search</mat-icon>
         <mat-form-field>
            <input formControlName="searchText" matInput placeholder="Search">
         </mat-form-field>
      </div>

      <div class="criteria-group statuses">
         <div class="statuses-label-stack">
            <span>include</span>
            <span>statuses</span>
            <button class="link" type="button"
                    *ngIf="showSaveIncludeStatuses"
                    (click)="emitSaveIncludeStatusesEvent()">
               save
            </button>
         </div>
         <mat-button-toggle-group [formControl]="includeStatusesCtl" multiple>
            <mat-button-toggle *ngFor="let status of sampleOpStatusChoices" [value]="status.code"
                               [matTooltip]="status.displayName">
               {{status.code}}
            </mat-button-toggle>
         </mat-button-toggle-group>
      </div>

      <div class="criteria-group">
         <mat-menu #otherOptionsMenu="matMenu">
            <div class="menu-item">
               <mat-slide-toggle formControlName="limitSelectionToVisibleSamples">
                  Limit selections to search results
               </mat-slide-toggle>
            </div>
            <div class="menu-item">
               <mat-slide-toggle formControlName="showTestDeleteButtons">
                  Show test delete buttons
               </mat-slide-toggle>
            </div>
         </mat-menu>
         <button mat-icon-button type="button" [matMenuTriggerFor]="otherOptionsMenu">
            <mat-icon>settings</mat-icon>
         </button>
      </div>
   </div>
</form>
