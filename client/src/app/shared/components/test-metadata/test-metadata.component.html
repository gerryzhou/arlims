<mat-card class="test-metadata">

   <div class="test-overview">

      <div class="test-type" [matTooltip]="test.testTypeName">
         {{test.testTypeShortName}}
      </div>

      <div class="elapsed" [matTooltip]="'test begin date: ' + test.beginDate">
         <div class="day-icon-stack">
            <mat-icon>event</mat-icon>
            <span class="day-label">day</span>
         </div>
         <span class="day-number">{{test.beginDate | dayNumber}}</span>
      </div>

      <div *ngIf="stageStatuses" class="stage-statuses">
         <app-test-stage-status *ngFor="let status of stageStatuses" [status]="status"></app-test-stage-status>
      </div>

      <div class="expanding-flex-space"></div>

      <div *ngIf="test.note" class="note">
         <mat-icon>comment</mat-icon>
         <!--TODO: Truncate the note if longer than ~10 chars, with clickable "..." button to view the full note. -->
         {{test.note}}
      </div>

      <div class="last-saved-stack">
         <div class="last-saved-instant">Saved {{test.lastSavedInstant | date: 'MMM d h:mm a'}}</div>
         <div class="last-saved-by">by <mat-icon>person</mat-icon>{{test.lastSavedByEmpShortName}}</div>
      </div>

      <div class="reviewed-stack" *ngIf="test.reviewedInstant">
         <div class="reviewed-instant">Rev. {{test.reviewedInstant | date: 'MMM d h:mm a'}}</div>
         <div class="reviewed-by">by <mat-icon>person</mat-icon>{{test.reviewedByEmpShortName}}</div>
      </div>

      <div class="saved-to-facts-stack" *ngIf="test.savedToFactsInstant">
         <div>Synced to FACTS</div>
         <div>{{test.savedToFactsInstant | date: 'MMM d h:mm a'}} <mat-icon class="saved-to-facts-icon">cloud_done</mat-icon></div>
      </div>

   </div>

</mat-card>
