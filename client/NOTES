File attachments
  Expansion header not updating.
    Try basing header on member field which is set from input in onInit() initially,
    and also set after file attachment operations.


SLANT
  Show values in header of expansion panel, to be expanded for editing.
    Expansion panel should have vertically oriented radio groups for each field to allow quick selection.
       ----------------
       KA+-       RA-+  (expansion header)
       ----------------
       TSI        LIA       Urea Oxidase   Identfication Required
       K K + +    K K + -   +    +         Y
       A A - -    A A + -   -    -         N
                  R
  Media control needs only "No Growth" (NG) and "Growth" (G) option only.
  Stage status: Just use completion of controls as status (John) for slant/ident stages.

IDENT
  Need to add page/dialog for building octet code.
  New test units in SLANT stage are not showing in IDENT stage until slant data is saved.
    Are form change events fired when positive test units are added to match Vidas positives?

PRE-ENR stage
  Need method/protocol code/name dropdown which is populated from FACTS api.

Nov 15 Meeting Notes/TODOs
--------------------------
Oxidase not showing (?)
Subs/composites area of pre-enr stage needs revisiting
  Add flag to sampling method for whether can be modified or not ("fixed")
  Disable fields for the ones that are not marked modifiable.
  Add "free entry" as option as well which is modifiable.


Field-level attachments
-----------------------
Listen for change events, update attachedFilesByTestPart and resultsFiles members so display is kept up to date.

Test listing/search page
  Reagent search
    Add text index on json column.
  Filter via date ranges, test types, FACTS statuses, and full text search of test data.

Turn off preloading for salmonella test module.

FACTS Writing
  Start with updating sample status flag when test is created.
    Creating a test should update sample op status in FACTS.

Create validation functions for test stages.
   Maybe can return enough information to implement status code functions by delegating to the validatino functions.

Subcomponents under pos-cont-stages need conflict data to be passed in and rendered.

For API20E may need to capture colors as well as codes.
PFGE/Serology/WGS results
  Just narrative text box for now.


Need carry-over inbox.
  Analyst indicates that rest of work on a sample should be done by someone else (on weekend for example).
  Plus filter at top to see these items.


Move BAM link to top within test name box.

My FACTS person id: 437799


Done
----
Manual refresh from db or FACTS and db, and timestamps of when last updated from both.
Split positives continuation data into separate SLANT and IDENT stages.
  Kept in sync for all isolate manipulations.
  Viewing of other stage data for context can be toggled.
Clean up database to remove old records.
Support for attaching files to aribitrary parts of tests.



Add ui controls for:
   Vitek, API20E
     Record result code and identification conclusion (for each?).  Allow attaching output results file.
   Control samples
   PFGE/Serology/WGS results
     Just narrative text box for now.

From meeting 2018/10/15
  - (app) Add button to immediately refresh from FACTS.
  - Try barcode scanners with new laptops, decide if new barcode scanners are needed.

Supervisor/custodian lab inbox
  Use drag and drop to assign sample ops to employees.

Allow searching for sample information for a given lot # of a reagent (media).

Add data refresh button in main view.

Add ability to associate test files with particular fields, add icons next to field when attached file(s) are present.

Commit Notes
------------

------------

Audit log section of form review report
  Data changes table alignment needs tweaking.
    Use common table for diffs across sections.
    Prevent some to-values from moving to far right.
  Maybe shorten some field names in deep paths, e.g. in positive continuations data, "rvSourcedTests" => "rv".


Try linking to specific section(s) in BAM for each stage.

Pre enr - Maybe make user have to choose to enter values manually for sampling manually.
  Could just disable the sampling detail fields unless user selects an other/custom toggle.
  Run this by John again, he seemed to maybe be OK with it as it is after some discussion.

BAM Integration
   Maybe pick food etc and restrict sampling method choices based on food and BAM.

Maybe print out labels for plates and tubes, which are different from media labels.


Q: What sort of medium type codes will be the prefix for BG, I2KI batches?

Vidas Stage
   Sample detections
      Allow pasting in results or loading from file (see Vidas results output).


Each test needs to be able to allow free-form entry of "continuation page".

Add filters to samples listing.

Maybe allow locking each test section.

TestsService.saveTestData
   Make sure that null value can conflict with non-null value.

Research API, try updating samples from FACTS.

Add ability to attach files to a sample and/or test.

test data entry component
-------------------------
  Allow pasting resource codes to be automatically matched to form fields by type.
  button to apply resources
    Highlight application points in the form.
    Distinguish applied resource codes from those that didn't match any form fields.


Decide how signatures in forms will be handled.
  They can't be handled like other form data, both components must be set automatically only when user passes an authentication test.
  Probably only the form stage should be signable as complete/correct and achieved outside the form?


[SL] Samples Listing

[WB] Water bath whiteboard
  Add general screen to display samples/tests and attach status notes.

[R] manage lab resources
  usual crud ops

[MU] manage employees/users for user's lab group
  usual crud ops

[MLG] manage lab groups

[MTRA] manage test/lab-resource associations (managed and unmanaged)


[dto and ui] Each test view should be able to know the tests current stage, and optionally show each stage's data contents individually.
  + StagedLabTest interface
      stages: string[]
      currentStage: string
  UI will allow flipping through stages for a test.
  Grid of active tests will just show current stages by default.

Create a new service for setting page title in center of toolbar, use this to hold sample listing page title, "Samples".


Forms
  For each boolean choice, form should include a yes/no or pos/neg radio group with same form field name and values 'Y'/'N' or '+'/-'.
    Hopefully this will map naturally to the json field value of null/'+'/'-' etc.

.flexbox-ex {
   display: flex;
   flex-flow: row wrap;
   justify-content: flex-start; // main axis: flex-start/end, center, space-around, space-between, space-evenly
   align-items: stretch;        // cross axis: stretch, center, flex-start, flex-end
}


Barcode Scanners
----------------
Wedge utility for Zebra DS6707
https://www.zebra.com/us/en/support-downloads/software/utilities/cordless-scantoconnect.html

Test Resource Codes
-------------------
BAG-123
JAR-123456
JAR-23456
RV-7361256
TT-228181
BG-7718281
I2KI-7948490
INC-12211
XX-112
XX-113
MB-12312312
